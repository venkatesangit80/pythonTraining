from prometheus_remote_write import RemoteWriteClient, GaugeMetric

client = RemoteWriteClient(url='https://<mimir-host>/api/prom/push', headers={
    'X-Scope-OrgID': 'default',  # or your tenant
    'Authorization': 'Bearer <token>'  # if needed
})

for metric in metrics:
    g = GaugeMetric(
        name=metric['name'],
        value=metric['value'],
        timestamp=metric['timestamp'],
        labels=metric['labels']
    )
    client.write([g])